@model FloralHaven.Models.PRODUCT

@{
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
    ViewBag.Title = "Edit";
}

@section vendorscss{
    <link rel="stylesheet" href="~/adminassets/vendor/libs/node-waves/node-waves.css" />
    <link rel="stylesheet" href="~/adminassets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css" />
    <link rel="stylesheet" href="~/adminassets/vendor/libs/dropzone/dropzone.css" />
}

@section scripts{
    <script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>
    <script>
        $("#refreshbutton").prepend('<i id="loading" class="ti ti-reload fa-spin" style="display:none;"></i>&nbsp;')
        $("#refreshbutton").click();
    </script>
}

<div class="container-xxl flex-grow-1 container-p-y">
    <div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-6 row-gap-4">
        <div class="d-flex flex-column justify-content-center">
            <h4 class="mb-1">Delete Product</h4>
            <p class="mb-0">Product #@Model.id</p>
        </div>
        <div class="d-flex align-content-center flex-wrap gap-4">
            <div class="d-flex gap-4">
                <a class="btn btn-label-secondary" href="@Url.Action("ProductList","Product")">Back</a>
            </div>
            @using (Html.BeginForm("Delete", "Product", new { id = Model.id }, FormMethod.Post))
            {
                @Html.AntiForgeryToken()
                <button type="submit" class="btn btn-danger"><i class="ti ti-trash"></i>&nbsp;Delete</button>
            }
        </div>
    </div>

    <div class="card mb-6">
        <div class="card-header d-flex justify-content-between align-items-center">
            <h5 class="mb-0 card-title">Are you sure you want to delete this?</h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-12">
                    <dl class="dl-horizontal">
                        <dt>
                            @Html.DisplayNameFor(model => model.title)
                        </dt>
                        <dd>
                            @Html.DisplayFor(model => model.title)
                        </dd>

                        <dt>
                            @Html.DisplayNameFor(model => model.handle)
                        </dt>
                        <dd>
                            @Html.DisplayFor(model => model.handle)
                        </dd>
                        <dt>
                            @Html.DisplayNameFor(model => model.categoryid)
                        </dt>
                        <dd>
                            @Html.DisplayFor(model => model.categoryid)
                        </dd>
                        <dt>
                            @Html.DisplayNameFor(model => model.price)
                        </dt>
                        <dd>
                            @Html.DisplayFor(model => model.price)
                        </dd>
                        <dt>
                            @Html.DisplayNameFor(model => model.saleprice)
                        </dt>
                        <dd>
                            @Html.DisplayFor(model => model.saleprice)
                        </dd>
                        <dt>
                            @Html.DisplayNameFor(model => model.sku)
                        </dt>
                        <dd>
                            @Html.DisplayFor(model => model.sku)
                        </dd>
                        <dt>
                            @Html.DisplayNameFor(model => model.description)
                        </dt>
                        <dd>
                            @Html.DisplayFor(model => model.description)
                        </dd>
                        <dt>
                            @Html.DisplayNameFor(model => model.instock)
                        </dt>
                        <dd>
                            @Html.DisplayFor(model => model.instock)
                        </dd>
                    </dl>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    @Ajax.ActionLink("Refresh", "GetProductImages", new { productId = Model.id }, new AjaxOptions { HttpMethod = "GET", InsertionMode = InsertionMode.Replace, UpdateTargetId = "productpictures", LoadingElementId = "loading", LoadingElementDuration = 300 }, new { @class = "btn btn-primary mb-2", id = "refreshbutton" })
                    <div id="productpictures" class="dropzone border-solid opacity-100"></div>
                </div>
            </div>
        </div>
    </div>
</div>